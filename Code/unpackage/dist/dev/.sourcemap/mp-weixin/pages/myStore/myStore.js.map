{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?ca0c","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?23ed","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?dfb4","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?689a","uni-app:///pages/myStore/myStore.vue","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?82b3","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/myStore/myStore.vue?c516"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2CrnB;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,mBAFA;AAGA,wBAHA;AAIA,6BAJA,EAIA;AACA,sBALA;AAMA,aANA;;AAQA,GAVA;AAWA;AACA;AACA,UAFA,kBAEA,IAFA,EAEA;AACA;AACA;AACA,gFADA;;AAGA,KAPA;AAQA;AACA,QATA,gBASA,OATA,EASA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,wBAHA;AAIA;AACA;AACA;AACA,6BADA;AAEA,wBAFA;;AAIA;AACA,kCADA;AAEA;AACA,6BADA;AAEA,4BAFA,EAFA;;;AAOA,gBAPA,CAOA;AACA;AACA;AACA,6BADA;;AAGA;AACA;AACA;AACA;AACA;AACA,eAJA;AAKA,aAlBA;;AAoBA;AACA,SA/BA;;;AAkCA,KA/CA;AAgDA;AACA,eAjDA,uBAiDA,OAjDA,EAiDA,OAjDA,EAiDA,QAjDA,EAiDA;AACA;AACA;AACA;AACA,uBADA;AAEA,4BAFA;AAGA,wBAHA;AAIA;AACA;AACA;AACA,iCADA;AAEA,wBAFA;;AAIA;AACA,iCADA;AAEA;AACA,4BADA,EAFA;;AAKA,gBALA,CAKA;AACA;AACA;AACA,6BADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAPA;AAQA;AACA;AACA,aAtBA;AAuBA;AACA;AACA,kCADA;AAEA;AACA,gCADA,EAFA;;AAKA,gBALA,CAKA;AACA;AACA,aAPA;AAQA;AACA;AACA,kDADA;AAEA;AACA,gCADA,EAFA;;AAKA,gBALA,CAKA;AACA;AACA,aAPA;AAQA;AACA;AACA,iDADA;AAEA;AACA,gCADA,EAFA;;AAKA,gBALA,CAKA;AACA;AACA,aAPA;AAQA;AACA;AACA,8CADA;AAEA;AACA,gCADA,EAFA;;AAKA,gBALA,CAKA;AACA;AACA,aAPA;AAQA;AACA,SAtEA;;AAwEA,KA5HA;AA6HA;AACA,cA9HA,sBA8HA,IA9HA,EA8HA;AACA;AACA,gFADA;;AAGA,KAlIA;AAmIA;AACA,gBApIA,wBAoIA,CApIA,EAoIA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA3IA;AA4IA,SA5IA,mBA4IA;AACA;AACA,oBADA;AAEA,qBAFA;;AAIA,KAjJA,EAXA;;AA8JA,QA9JA,oBA8JA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KAZA;AAaA,GAvMA;AAwMA,UAxMA,sBAwMA;AACA;AACA;AACA;AACA;AACA,GA7MA;;AA+MA;AACA,eAhNA,2BAgNA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,aAFA,mBAEA,GAFA,EAEA;AACA;AACA,6CADA;AAEA;AACA,4BADA;AAEA,6BAFA;AAGA,+CAHA,EAFA;;AAOA,YAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA,WALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAvBA;AAwBA,OA3BA;;AA6BA,GAjPA,E;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAmmC,CAAgB,6kCAAG,EAAC,C;;;;;;;;;;;ACAvnC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/myStore/myStore.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/myStore/myStore.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myStore.vue?vue&type=template&id=5e204832&\"\nvar renderjs\nimport script from \"./myStore.vue?vue&type=script&lang=js&\"\nexport * from \"./myStore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myStore.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myStore/myStore.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myStore.vue?vue&type=template&id=5e204832&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myStore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myStore.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"cu-custom \">\r\n\t\t\t<cu-custom :isBack=\"true\" bgColor=\"bg-gradual-orange\">\r\n\t\t\t\t<block slot=\"content\">我的发布</block>\r\n\t\t\t\t<block slot=\"backText\">返回</block>\r\n\t\t\t</cu-custom>\r\n\t\t</view>\r\n\t\t<view class=\"cu-card article\" v-for=\"(item,index) in myStoreList\" :key=\"item._id\">\r\n\t\t\t<view class=\"cu-item shadow\" @click=\"goToDetail(item)\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<image :src=\"item.imgList[0]\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view class=\"text-lg text-black m-title\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-content\"> {{item.description}}</view>\r\n\t\t\t\t\t\t<view class='container_price text-gray text-sm padding-bottom-xs'>\r\n\t\t\t\t\t\t\t<text class='container_price_text_0 text-orange text-lg'>￥{{item.price}}</text>\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-attention text-grey\">{{item.views}}</text>\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-message text-grey\">{{item.commentsCount}}</text>\r\n\t\t\t\t\t\t\t<text class=\"text-blue\">{{item.status}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class='flex justify-between'>\r\n\t\t\t\t\t\t\t<view class=\" cu-tag bg-yellow light md round padding-lr-sm\" v-if=\"item.status=='已上架'\" @click.stop=\"update(item)\">修改</view>\r\n\t\t\t\t\t\t\t<view class=\" cu-tag bg-green light md round padding-lr-sm\" v-if=\"item.status=='已上架'\" @click.stop=\"done(item._id)\">下架</view>\r\n\t\t\t\t\t\t\t<view class=\" cu-tag bg-red light md round padding-lr-sm\" @click.stop=\"deleteStore(item._id,item.imgList,item.openid)\">删除</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-load over\" v-if=\"!loadmoreShow\"></view>\r\n\t\t<l-loadmore :show=\"loadmoreShow\" :type=\"loadmoretype\" loading-text=\"努力加载中~\" />\r\n\t\t<view class='goTop' @click=\"goTop\">\r\n\t\t\t<image src='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/580b4200-2728-11eb-b680-7980c8a877b8.png'\r\n\t\t\t v-if=\"!showTop\"></image>\r\n\t\t</view>\r\n\t\t<l-dialog />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmyStoreList: '',\r\n\t\t\t\tshowTop: true,\r\n\t\t\t\tloadmoreShow: true,\r\n\t\t\t\tloadmoretype: 'loading', //end 我是有底线的\r\n\t\t\t\tpullDownLimit: 5,\r\n\t\t\t\tskip: 1\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 修改商品\r\n\t\t\tupdate(item) {\r\n\t\t\t\tconsole.log(\"修改\")\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../update/update?data=' + encodeURIComponent(JSON.stringify(item))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 下架商品\r\n\t\t\tdone(storeId) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tconsole.log(\"下架\", storeId)\r\n\t\t\t\t// 下架\r\n\t\t\t\twx.lin.showDialog({\r\n\t\t\t\t\ttype: \"confirm\",\r\n\t\t\t\t\tcontent: \"确定下架吗？\",\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: '下架中...',\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'updateStatus',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tstatus: \"已下架\",\r\n\t\t\t\t\t\t\t\t\t_id: storeId\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"下架成功\")\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"下架成功\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 传输数据\r\n\t\t\t\t\t\t\t\tthat.myStoreList.forEach(item => {\r\n\t\t\t\t\t\t\t\t\tif (item._id === storeId) {\r\n\t\t\t\t\t\t\t\t\t\titem.status = \"已下架\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 删除商品\r\n\t\t\tdeleteStore(storeId, imgList,myOpenid) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tconsole.log(\"删除imgList\", imgList)\r\n\t\t\t\twx.lin.showDialog({\r\n\t\t\t\t\ttype: \"confirm\",\r\n\t\t\t\t\tcontent: \"确定删除该商品吗？\",\r\n\t\t\t\t\tshowTitle: false,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: '删除中，请稍后...',\r\n\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'deleteStore',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t_id: storeId\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"删除成功\")\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"删除成功\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 传输数据\r\n\t\t\t\t\t\t\t\tlet newStoreList = []\r\n\t\t\t\t\t\t\t\tthat.myStoreList.forEach(item => {\r\n\t\t\t\t\t\t\t\t\tif (!item) {\r\n\t\t\t\t\t\t\t\t\t\tthat.loadmoreShow = false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (item._id !== storeId) {\r\n\t\t\t\t\t\t\t\t\t\tnewStoreList.push(item)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthat.myStoreList = newStoreList\r\n\t\t\t\t\t\t\t\tuni.$emit(\"changeStoreCount\",newStoreList.length)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t//删除云存储的图片\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'deleteImages',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\timgList: imgList\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"删除成功\", res)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// 删除评论的内容\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'deleteQuestionTableByStoreid',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tstoreID: storeId\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"评论删除成功\", res)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// 删除otherComment的内容\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname:'deleteOtherCommentByStoreid',\r\n\t\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\t\tstoreID:storeId\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"deleteOtherCommentByStoreid\",res)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// 删除收藏的内容\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'deleteStoreSaveByStoreid',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tstoreId: storeId\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"收藏内容删除成功\", res)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 跳转详情页\r\n\t\t\tgoToDetail(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../detail/detail?data=' + encodeURIComponent(JSON.stringify(item))\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击回到顶部\r\n\t\t\tonPageScroll(e) {\r\n\t\t\t\t// this.scrollTop = e.scrollTop\r\n\t\t\t\tif (e.scrollTop > 500) {\r\n\t\t\t\t\tthis.showTop = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showTop = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoTop() {\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\tduration: 300\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.$on('myPublish', data => {\r\n\t\t\t\tconsole.log(\"接收到的数据\", data)\r\n\t\t\t\tif (data == \"\") {\r\n\t\t\t\t\tthis.myStoreList = \"\"\r\n\t\t\t\t\tthis.loadmoreShow = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(data.length<5){\r\n\t\t\t\t\t\tthis.loadmoretype = 'end'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.myStoreList = data\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tuni.$on('changeViews', data => {\r\n\t\t\t\tthis.myStoreList.forEach(item => {\r\n\t\t\t\t\tif (item._id === data.storeId) {\r\n\t\t\t\t\t\titem.views = data.views\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\tuni.$on('changeComemntCount', data => {\r\n\t\t\t\tthis.myStoreList.forEach(item => {\r\n\t\t\t\t\tif (item._id === data.storeId) {\r\n\t\t\t\t\t\titem.commentsCount = data.Count\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// 接收修改过后传递的信息\r\n\t\t\tuni.$on(\"changeDetail\", data => {\r\n\t\t\t\tconsole.log(\"data\", data)\r\n\t\t\t\tthis.myStoreList.forEach(item => {\r\n\t\t\t\t\tif (item._id === data._id) {\r\n\t\t\t\t\t\titem.price = data.price\r\n\t\t\t\t\t\titem.phone = data.phone\r\n\t\t\t\t\t\titem.weixin = data.weixin\r\n\t\t\t\t\t\titem.description = data.description\r\n\t\t\t\t\t\titem.connection = data.connection\r\n\t\t\t\t\t\titem.isFree = data.isFree\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('myPublish')\r\n\t\t\tuni.$off('changeViews')\r\n\t\t\tuni.$off('changeComemntCount')\r\n\t\t\tuni.$off('changeDetail')\r\n\t\t},\r\n\r\n\t\t// 实现上拉加载\r\n\t\tonReachBottom() {\r\n\t\t\tconst that = this;\r\n\t\t\tlet oldData = []\r\n\t\t\t// console.log(that.navSelected)\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'openid',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'getUserPublishStoreByOpenid',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\topenid: res.data,\r\n\t\t\t\t\t\t\t\"skip\": that.skip,\r\n\t\t\t\t\t\t\t\"pullDownLimit\": that.pullDownLimit,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tif (res.result.data.length == 0) {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t\t\t// console.log(\"that.skip\", that.skip)\r\n\t\t\t\t\t\t\toldData = []\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet oldData = that.myStoreList\r\n\t\t\t\t\t\t\tlet newData = res.result.data\r\n\t\t\t\t\t\t\tlet commitData = [...oldData, ...newData]\r\n\t\t\t\t\t\t\tthat.myStoreList = commitData\r\n\t\t\t\t\t\t\tthat.skip += 1\r\n\t\t\t\t\t\t\tif (that.loadmoretype == \"end\") {\r\n\t\t\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.cu-card.article>.cu-item .content {\r\n\t\tpadding: 6rpx 15rpx;\r\n\t}\r\n\r\n\t.text-content {\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.cu-card.article>.cu-item .content .text-content,\r\n\t.m-title {\r\n\t\theight: 50rpx;\r\n\t\twidth: 450rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.cu-card>.cu-item {\r\n\t\tmargin: 10rpx;\r\n\t}\r\n\r\n\t.cu-card.article>.cu-item {\r\n\t\tpadding: 20rpx 0rpx;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myStore.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myStore.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608014567528\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}