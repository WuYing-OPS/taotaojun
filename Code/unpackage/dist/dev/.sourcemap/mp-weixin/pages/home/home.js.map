{"version":3,"sources":["webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?dfca","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?b4f2","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?ecac","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?e788","uni-app:///pages/home/home.vue","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?d88c","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/home/home.vue?d62b","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmElnB;AACA,MADA,kBACA;AACA;AACA,wBADA,EACA;AACA,mBAFA;AAGA,iBAHA;AAIA,qBAJA;AAKA,aALA;AAMA,uBANA;AAOA,sBAPA;AAQA,sBARA;AASA,iBATA;AAUA,wBAVA,EAUA;AACA,wBAXA;AAYA,6BAZA,EAYA;AACA,eAbA;AAcA,mBAdA;AAeA,oBAfA,EAeA;AACA;AACA,mHADA;AAEA,mHAFA;AAGA,mHAHA,CAhBA;AAoBA;AACA;AACA,aADA;AAEA,kBAFA;AAGA,uBAHA;AAIA;AACA,aADA;AAEA,oBAFA;AAGA,uBAHA,EAJA;;AASA;AACA,aADA;AAEA,oBAFA;AAGA,uBAHA,EATA;;AAcA;AACA,aADA;AAEA,oBAFA;AAGA,uBAHA,EAdA;;AAmBA;AACA,aADA;AAEA,oBAFA;AAGA,uBAHA,EAnBA;;AAwBA;AACA,aADA;AAEA,kBAFA;AAGA,uBAHA,EAxBA;;AA6BA;AACA,aADA;AAEA,kBAFA;AAGA,uBAHA,EA7BA,CArBA;;;AAwDA,mBAxDA,CAwDA;AAxDA;AA0DA,GA5DA;AA6DA;AACA;AACA,QAFA,gBAEA,QAFA,EAEA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,YARA,oBAQA,QARA,EAQA;AACA;AACA;AACA;AACA,mDADA;;AAGA,KAdA;AAeA;AACA,aAhBA,qBAgBA,CAhBA,EAgBA,IAhBA,EAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA;AACA,mBADA;AAEA,6CAFA;AAGA,yBAHA;AAIA,sBAJA;AAKA,6BALA,EAFA;;AASA,eATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAlBA;;AAoBA,KA7CA;AA8CA;AACA,gBA/CA,wBA+CA,CA/CA,EA+CA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtDA;AAuDA,SAvDA,mBAuDA;AACA;AACA,oBADA;AAEA,qBAFA;;AAIA,KA5DA,EA7DA;;AA2HA;AACA,cA5HA,0BA4HA;AACA;AACA;AACA,mCADA;AAEA;AACA,iBADA;AAEA,0BAFA;AAGA,uBAHA;AAIA,mBAJA;AAKA,2BALA,EAFA;;AASA,aATA,mBASA,GATA,EASA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAhBA;;AAkBA,GAhJA;AAiJA;AACA,eAlJA,2BAkJA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA;AACA,yBADA;AAEA,2CAFA;AAGA,uBAHA;AAIA,gCAJA;AAKA,uCALA,EAFA;;AASA,QATA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1BA;AA2BA,GAjLA;AAkLA;AACA,mBAnLA,+BAmLA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA;AACA,yBADA;AAEA,2CAFA;AAGA,uBAHA;AAIA,gCAJA;AAKA,uCALA,EAFA;;AASA,aATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAnBA;;AAqBA,GA7MA;AA8MA,QA9MA,oBA8MA;AACA,kBADA,GACA,MADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAJA;AAKA;AACA;AAXA,uCAYA;AACA,6BADA;AAEA,uBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,uDADA;AAEA;AACA,sCADA,EAFA;;AAKA,sBALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA;AAEA;AACA,2CADA,EAFA;;AAKA,4BALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCALA;AAMA;AACA,6BAbA;AAcA;AACA,6DADA;AAEA;AACA,gDADA,EAFA;;AAKA,gCALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;;AAGA;AACA,6BAtBA;AAuBA;AACA,yBA/CA;AAgDA,uBAlDA;AAmDA,qBApDA;AAqDA;AACA;AACA,uDADA;AAEA;AACA,0CADA,EAFA;;AAKA,0BALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;;AAGA;AACA,uBAtBA;AAuBA;AACA,mBArFA;;AAuFA,iBA3FA,GAZA;;AAyGA,GAvTA;AAwTA,SAxTA,qBAwTA;AACA;AACA;AACA;AACA;AACA,KAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAPA;;AASA,GAvUA;AAwUA,UAxUA,sBAwUA;AACA;AACA;AACA,GA3UA,E;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAgmC,CAAgB,0kCAAG,EAAC,C;;;;;;;;;;;ACApnC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,yF;AACAA,UAAU,CAACC,aAAD,CAAV,C","file":"pages/home/home.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=92bb8f34&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=92bb8f34&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.storeList, function(item, index) {\n    var m0 = encodeURIComponent(JSON.stringify(item))\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"margin-bottom: 150rpx !important;\">\r\n\t\t<view class=\"cu-custom \">\r\n\t\t\t<cu-custom :isBack=\"false\" bgColor=\"bg-gradual-orange\">\r\n\t\t\t\t<block slot=\"content\">首页</block>\r\n\t\t\t</cu-custom>\r\n\t\t</view>\r\n\t\t<!-- 搜索 -->\r\n\t\t<view class=\"cu-bar bg-white search\">\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text class=\"cuIcon-locationfill text-orange\"></text>\r\n\t\t\t\t<text>广州工商学院</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t<text class=\"cuIcon-search\"></text>\r\n\t\t\t\t<input type=\"text\" v-model=\"inputValue\" @blur=\"blur(inputValue)\" placeholder=\"搜索您想要的商品\" confirm-type=\"search\"\r\n\t\t\t\t @confirm=\"toSearch\"></input>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 轮播图 -->\r\n\t\t<swiper class=\"card-swiper  square-dot\" indicator-dots=\"true\" circular=\"true\" autoplay=\"true\" interval=\"5000\"\r\n\t\t duration=\"500\" indicator-color=\"#8799a3\" indicator-active-color=\"#0081ff\">\r\n\t\t\t<swiper-item v-for=\"(item,index) in swiperList\" :key=\"index\">\r\n\t\t\t\t<view class=\"swiper-item shadow\">\r\n\t\t\t\t\t<image :src=\"item\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t\t<!-- nav -->\r\n\t\t<scroll-view scroll-x class=\"bg-gradual-orange nav text-center\">\r\n\t\t\t<view class=\"cu-item\" v-for=\"(item,index) in navList\" :key=\"item._id\" :class=\"index==TabCur?'text-white cur':''\"\r\n\t\t\t @tap=\"tabSelect($event,navList[index].text)\" :data-id=\"index\">\r\n\t\t\t\t{{item.text}}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- item -->\r\n\t\t<view style=\"height: auto;margin-bottom: 150rpx;\">\r\n\t\t\t<view class='card-menu container margin-top' v-for=\"(item,index) in storeList\" :key=\"index\">\r\n\t\t\t\t<navigator :url=\"'../detail/detail?data='+encodeURIComponent(JSON.stringify(item))\" hover-class='navigator-hover'>\r\n\t\t\t\t\t<view class='container_img'>\r\n\t\t\t\t\t\t<image :src='item.imgList[0]'></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='container_text'>\r\n\t\t\t\t\t\t<text class=''>{{item.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='container_price text-gray text-sm'>\r\n\t\t\t\t\t\t<text class='container_price_text_0 text-orange'>￥{{item.price}}</text>\r\n\t\t\t\t\t\t<text class=\"cuIcon-attention text-orange\">{{item.views}}</text>\r\n\t\t\t\t\t\t<text class=\"cuIcon-message text-orange\">{{item.commentsCount}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='container_line'></view>\r\n\t\t\t\t\t<view class='container_user'>\r\n\t\t\t\t\t\t<image :src='item.avatarUrl'></image>\r\n\t\t\t\t\t\t<text>{{item.nickName}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-load over\" v-if=\"!loadmoreShow\"></view>\r\n\t\t<l-loadmore :show=\"loadmoreShow\" :type=\"loadmoretype\" loading-text=\"努力加载中~\" />\r\n\t\t<view class='goTop' @click=\"goTop\">\r\n\t\t\t<image src='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/580b4200-2728-11eb-b680-7980c8a877b8.png'\r\n\t\t\t v-if=\"!showTop\"></image>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmyUnReadComment: 0, //我的未读信息\r\n\t\t\t\tshowTop: true,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tuserMessage: '',\r\n\t\t\t\tskip: 1,\r\n\t\t\t\tnavSelected: '全部',\r\n\t\t\t\tpullDownLimit: 6,\r\n\t\t\t\tcommentsCount: 0,\r\n\t\t\t\tstoreId: '',\r\n\t\t\t\tcountChange: false, //判断commentsCount是否已经改变\r\n\t\t\t\tloadmoreShow: true,\r\n\t\t\t\tloadmoretype: 'loading', //end 我是有底线的\r\n\t\t\t\tTabCur: 0,\r\n\t\t\t\tscrollLeft: 0,\r\n\t\t\t\tinputValue: '', //搜索框输入的内容\r\n\t\t\t\tswiperList: [\r\n\t\t\t\t\t'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/14882c30-2680-11eb-bd01-97bc1429a9ff.jpg',\r\n\t\t\t\t\t'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/13f031f0-2680-11eb-899d-733ae62bed2f.jpg',\r\n\t\t\t\t\t'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/12e3a3f0-2680-11eb-bd01-97bc1429a9ff.jpg'\r\n\t\t\t\t], //轮播图资源\r\n\t\t\t\tnavList: [{\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\ttext: '全部',\r\n\t\t\t\t\t\timg: '&#xe7c2;'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\ttext: '生活用品',\r\n\t\t\t\t\t\timg: '&#xe7c2;'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\ttext: '体育用品',\r\n\t\t\t\t\t\timg: '&#xe752;'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\ttext: '学习用品',\r\n\t\t\t\t\t\timg: '&#xe613;'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 4,\r\n\t\t\t\t\t\ttext: '电子数码',\r\n\t\t\t\t\t\timg: '&#xe60d;'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 5,\r\n\t\t\t\t\t\ttext: '服饰',\r\n\t\t\t\t\t\timg: '&#xe600;'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 6,\r\n\t\t\t\t\t\ttext: '其他',\r\n\t\t\t\t\t\timg: '&#xe621;'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tstoreList: '', //所有商品列表\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 输入框失去焦点触发事件\r\n\t\t\tblur(inputVal) {\r\n\t\t\t\tlet val = inputVal.replace(/(^\\s*)|(\\s*$)/g, \"\").toString()\r\n\t\t\t\tthis.inputValue = val\r\n\t\t\t\t// uni.$emit(\"blur\", val)\r\n\t\t\t},\r\n\t\t\t// 点击键盘搜索按钮触发事件\r\n\t\t\ttoSearch(inputVal) {\r\n\t\t\t\tlet toSearchVal = inputVal.detail.value.replace(/(^\\s*)|(\\s*$)/g, \"\").toString()\r\n\t\t\t\t// console.log(toSearchVal)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../search/search?data=' + toSearchVal\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 选择nav按钮触发事件\r\n\t\t\ttabSelect(e, data) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.storeList = ''\r\n\t\t\t\tthat.loadmoretype='loading'\r\n\t\t\t\t// data是nav点击的选项的值，this.inputValue是输入框的值\r\n\t\t\t\tlet val = this.inputValue.replace(/(^\\s*)|(\\s*$)/g, \"\").toString()\r\n\t\t\t\tthat.navSelected = data\r\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollLeft = (e.currentTarget.dataset.id - 1) * 60\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: \"getAllStoreInHomePage\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\"skip\": 0,\r\n\t\t\t\t\t\t\"pullDownLimit\": that.pullDownLimit,\r\n\t\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\t\"inVal\": val,\r\n\t\t\t\t\t\t\"navSelected\": data,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// console.log(\"res\", res.result.data)\r\n\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t\tthat.storeList = res.result.data\r\n\t\t\t\t\t\tif (res.result.data.length < 6) {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击回到顶部\r\n\t\t\tonPageScroll(e) {\r\n\t\t\t\t// this.scrollTop = e.scrollTop\r\n\t\t\t\tif (e.scrollTop > 500) {\r\n\t\t\t\t\tthis.showTop = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showTop = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoTop() {\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\tduration: 300\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\t// 首次进入页面之前渲染数据\r\n\t\tbeforeCreate() {\r\n\t\t\tconst that = this\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: \"getAllStoreInHomePage\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"skip\": 0,\r\n\t\t\t\t\t\"pullDownLimit\": 6,\r\n\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\"inVal\": '',\r\n\t\t\t\t\t\"navSelected\": \"全部\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tif(res.result.data.length===0){\r\n\t\t\t\t\t\tthat.loadmoreShow=false\r\n\t\t\t\t\t}else if(res.result.data.length>0 && res.result.data.length<6){\r\n\t\t\t\t\t\tthat.loadmoretype='end'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.storeList = res.result.data\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 实现上拉加载\r\n\t\tonReachBottom() {\r\n\t\t\tconst that = this;\r\n\t\t\tlet oldData = []\r\n\t\t\t// console.log(that.navSelected)\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: 'getAllStoreInHomePage',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"skip\": that.skip,\r\n\t\t\t\t\t\"pullDownLimit\": that.pullDownLimit,\r\n\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\"inVal\": that.inputValue,\r\n\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tif (res.result.data.length == 0) {\r\n\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t// console.log(\"that.skip\", that.skip)\r\n\t\t\t\t\toldData = []\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet oldData = that.storeList\r\n\t\t\t\t\tlet newData = res.result.data\r\n\t\t\t\t\tlet commitData = [...oldData, ...newData]\r\n\t\t\t\t\tthat.storeList = commitData\r\n\t\t\t\t\tthat.skip += 1\r\n\t\t\t\t\tif (that.loadmoretype == \"end\") {\r\n\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 实现下拉刷新\r\n\t\tonPullDownRefresh() {\r\n\t\t\tconst that = this;\r\n\t\t\tthat.loadmoretype = 'loading'\r\n\t\t\tthat.skip = 0\r\n\t\t\tthat.storeList = []\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: 'getAllStoreInHomePage',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"skip\": that.skip,\r\n\t\t\t\t\t\"pullDownLimit\": that.pullDownLimit,\r\n\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\"inVal\": that.inputValue,\r\n\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tuni.stopPullDownRefresh()\r\n\t\t\t\t\tif(res.result.data.length===0){\r\n\t\t\t\t\t\tthat.loadmoreShow=false\r\n\t\t\t\t\t}else if(res.result.data.length>0 && res.result.data.length<6){\r\n\t\t\t\t\t\tthat.loadmoreShow=true\r\n\t\t\t\t\t\tthat.loadmoretype='end'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.storeList = res.result.data\r\n\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync onShow() {\r\n\t\t\tconst that = this\r\n\t\t\tthis.myUnReadComment=0\r\n\t\t\tconsole.log(\"this.storeList\", this.storeList)\r\n\t\t\tif (this.countChange) {\r\n\t\t\t\tthis.storeList.forEach((el) => {\r\n\t\t\t\t\tif (el._id == this.storeId) {\r\n\t\t\t\t\t\tel.commentsCount = this.commentsCount\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t// 获取未读的评论数量\r\n\t\t\tawait uni.getStorage({\r\n\t\t\t\tkey: 'openid',\r\n\t\t\t\t success(RES) {\r\n\t\t\t\t\t// 获取到我发布的所有商品\r\n\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\tname: 'getUserPublishStoreByOpenid',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\topenid: RES.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t// 拿到了当前用户发布的所有商品\r\n\t\t\t\t\t\tif (res.result.data.length != 0) {\r\n\t\t\t\t\t\t\tres.result.data.forEach(function(v, i) {\r\n\t\t\t\t\t\t\t\t// 拿到当前用户的商品id，去请求questionTable\r\n\t\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\t\tname: 'getQuestionTable',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tstore_id: v._id\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"接收到我所有商品的评论\", res.result.data, RES.data)\r\n\t\t\t\t\t\t\t\t\t// 判断所有的商品是不是都有评论，有评论的拿出来\r\n\t\t\t\t\t\t\t\t\tif (res.result.data.length != 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.result.data.forEach(function(v, i) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (v.clickOpenid != RES.data && v.read === false) { //判断评论表是不是自己评论的\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.myUnReadComment += 1\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t//判断当前商品的评论中是不是有回复\r\n\t\t\t\t\t\t\t\t\t\t\tif (v.children.length != 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tv.children.forEach(function(val, ind) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// console.log(val.replyOpenID,RES.data)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (val.replyOpenID != RES.data && val.read === false) { //判断回复表是不是自己回复的\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.myUnReadComment += 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\t\t\t\tname: 'getOtherCommentByOpenid',\r\n\t\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\t\topenid: RES.data\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.result.data.length!=0){\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res.result.data[0].commentsList.length != 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.result.data[0].commentsList.forEach(el => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (el.read === false) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthat.myUnReadComment += 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// 更改我的person页面中的我的消息中的显示多少条未读的数量的\r\n\t\t\t\t\t\t\t\t\t\tgetApp().globalData.unReadCount = that.myUnReadComment\r\n\t\t\t\t\t\t\t\t\t\t\tif (that.myUnReadComment > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showTabBarRedDot({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex: 2\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: 'getOtherCommentByOpenid',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\topenid: RES.data\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif(res.result.data.length!=0){\r\n\t\t\t\t\t\t\t\t\tif (res.result.data[0].commentsList.length != 0) {\r\n\t\t\t\t\t\t\t\t\t\tres.result.data[0].commentsList.forEach(el => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (el.read === false) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.myUnReadComment += 1\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// 更改我的person页面中的我的消息中的显示多少条未读的数量的\r\n\t\t\t\t\t\t\tgetApp().globalData.unReadCount = that.myUnReadComment\r\n\t\t\t\t\t\t\t\tif (that.myUnReadComment > 0) {\r\n\t\t\t\t\t\t\t\t\tuni.showTabBarRedDot({\r\n\t\t\t\t\t\t\t\t\t\tindex: 2\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t created() {\r\n\t\t\tuni.$on('changeComemntCount', data => {\r\n\t\t\t\tthis.countChange = true\r\n\t\t\t\tthis.commentsCount = data.Count\r\n\t\t\t\tthis.storeId = data.storeId\r\n\t\t\t})\r\n\t\t\tuni.$on('changeViews', data => {\r\n\t\t\t\tconsole.log(\"gg\",data)\r\n\t\t\t\tthis.storeList.forEach((el) => {\r\n\t\t\t\t\tif (el._id == data.storeId) {\r\n\t\t\t\t\t\tel.views = data.views\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('changeComemntCount')\r\n\t\t\tuni.$off('changeViews')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.card-swiper swiper-item {\r\n\t\tpadding: 0rpx 0rpx 60rpx;\r\n\t}\r\n\r\n\t.goTop {\r\n\t\theight: 60rpx;\r\n\t\twidth: 60rpx;\r\n\t\tborder-radius: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 150rpx;\r\n\t\tright: 60rpx;\r\n\t\tz-index: 10000;\r\n\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 内容 */\r\n\t.container {\r\n\t\tmargin-left: 29rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tfloat: left;\r\n\t\t// height: 530rpx;\r\n\t\twidth: 43%;\r\n\t\tbackground: white;\r\n\t}\r\n\r\n\t.container_img image {\r\n\t\theight: 300rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.container_text {\r\n\t\tcolor: black;\r\n\t\tpadding: 10rpx;\r\n\t\tfont-size: 23rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.container_price {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-left: 8rpx;\r\n\t\tpadding-right: 8rpx;\r\n\t}\r\n\r\n\t.container_price_text_0 {\r\n\t\t// color: red;\r\n\t\tfont-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;\r\n\t}\r\n\r\n\t.container_price_text_1 {\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.container_line {\r\n\t\twidth: 100%;\r\n\t\tbackground: gainsboro;\r\n\t\theight: 1rpx;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.container_user {\r\n\t\tmargin-top: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tline-height: 50rpx;\r\n\r\n\t\ttext {\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\twhite-space: nowrap;\r\n\t\t}\r\n\t}\r\n\r\n\t.container_user image {\r\n\t\tmargin-left: 10rpx;\r\n\t\tmargin-right: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\twidth: 50rpx;\r\n\t\tflex: 0 0 auto;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608014698346\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/home/home.vue'\ncreatePage(Page)"],"sourceRoot":""}