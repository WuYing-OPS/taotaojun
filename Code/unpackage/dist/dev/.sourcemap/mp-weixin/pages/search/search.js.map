{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?6a7f","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?2d1a","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?bb1d","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?1b86","uni-app:///pages/search/search.vue","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?62f2","webpack:///C:/Users/12770/Documents/HBuilderProjects/TTJ/pages/search/search.vue?f90e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyEpnB;AACA,MADA,kBACA;AACA;AACA,wBADA,EACA;AACA,sBAFA;AAGA,mBAHA;AAIA,eAJA;AAKA,mBALA;AAMA,kBANA;AAOA,sBAPA;AAQA,wBARA;AASA,aATA;AAUA,6BAVA;AAWA,mBAXA;AAYA;AACA,aADA;AAEA,mBAFA;;AAIA;AACA,aADA;AAEA,mBAFA,EAJA;;AAQA;AACA,aADA;AAEA,oBAFA,EARA;;AAYA;AACA,aADA;AAEA,qBAFA,EAZA,CAZA;;;;AA8BA,GAhCA;AAiCA;AACA;AACA,gBAFA,wBAEA,CAFA,EAEA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KATA;AAUA,SAVA,mBAUA;AACA;AACA,oBADA;AAEA,qBAFA;;AAIA,KAfA;AAgBA,UAhBA,kBAgBA,CAhBA,EAgBA;AACA;AACA,KAlBA;AAmBA,aAnBA,qBAmBA,CAnBA,EAmBA,IAnBA,EAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,mBADA;AAEA,qCAFA;AAGA,yBAHA;AAIA,sCAJA;AAKA,yCALA,EAFA;;AASA,eATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAnBA;;AAqBA,KA9CA;AA+CA;AACA,cAhDA,sBAgDA,OAhDA,EAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjEA;AAkEA;AACA,UAnEA,kBAmEA,CAnEA,EAmEA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,mBADA;AAEA,qCAFA;AAGA,yBAHA;AAIA,sCAJA;AAKA,yCALA,EAFA;;AASA,eATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAnBA;;AAqBA,KA5FA;AA6FA;AACA,iBA9FA,2BA8FA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,2BADA;AAEA,qCAFA;AAGA,yBAHA;AAIA,sCAJA;AAKA,yCALA,EAFA;;AASA,UATA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAjCA;AAkCA,KArIA,EAjCA;;AAwKA,QAxKA,kBAwKA,OAxKA,EAwKA;AACA;AACA;AACA;AACA,yCADA;AAEA;AACA,iBADA;AAEA,mCAFA;AAGA,uBAHA;AAIA,oCAJA;AAKA,uCALA,EAFA;;AASA,aATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAnBA;;AAqBA,GAhMA;AAiMA,QAjMA,oBAiMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,GA1MA;AA2MA,SA3MA,qBA2MA;AACA;AACA;AACA;AACA;AACA,KAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAPA;AAQA,GAzNA;AA0NA,UA1NA,sBA0NA;AACA;AACA;AACA,GA7NA,E;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAkmC,CAAgB,4kCAAG,EAAC,C;;;;;;;;;;;ACAtnC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.storeList, function(item, index) {\n    var m0 = encodeURIComponent(JSON.stringify(item))\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view>\r\n\t\t\t<view class=\"cu-custom\">\r\n\t\t\t\t<cu-custom :isBack=\"true\" bgColor=\"bg-gradual-orange\">\r\n\t\t\t\t\t<block slot=\"content\">搜索</block>\r\n\t\t\t\t\t<block slot=\"backText\">返回</block>\r\n\t\t\t\t</cu-custom>\r\n\t\t\t</view>\r\n\t\t\t<!-- 搜索框 -->\r\n\t\t\t<view class=\"cu-bar search\">\r\n\t\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t\t<text class=\"cuIcon-search\"></text>\r\n\t\t\t\t\t<input :adjust-position=\"false\" type=\"text\" placeholder=\"搜索您感兴趣的商品\" confirm-type=\"search\" v-model=\"inputVal\"\r\n\t\t\t\t\t @confirm=\"search\"></input>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<button class=\"cu-btn bg-orange shadow-blur round\" @click=\"search\">搜索</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 导航条部分 -->\r\n\t\t<view class=\"cu-bar bg-white solid-bottom\" style=\"z-index: 100000;\">\r\n\t\t\t<scroll-view scroll-x class=\"bg-white nav\">\r\n\t\t\t\t<view class=\"flex text-center\">\r\n\t\t\t\t\t<view class=\"cu-item flex-sub\" :class=\"index==TabCur?'text-orange cur':''\" v-for=\"(item,index) in navList\" :key=\"item.id\"\r\n\t\t\t\t\t @tap=\"tabSelect($event,navList[index].text)\" :data-id=\"index\">\r\n\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\t\t<!-- item -->\r\n\t\t<view class=\"cu-card dynamic\">\r\n\t\t\t<view class=\"cu-item shadow\" v-for=\"(item,index) in storeList\">\r\n\t\t\t\t<navigator :url=\"'../detail/detail?data='+encodeURIComponent(JSON.stringify(item))\" hover-class='navigator-hover'>\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar\">\r\n\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar round lg\" :style=\"{backgroundImage:`url(${item.avatarUrl})`}\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content flex-sub\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-grey\">{{item.nickName}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t{{item.ctime}}\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-recharge margin-lr-xs text-orange\"></text> {{item.price}}\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-attention margin-lr-xs text-orange\"></text> {{item.views}}\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-message margin-lr-xs text-orange\"></text> {{item.commentsCount}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-content\">\r\n\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"grid flex-sub padding-lr col-1\">\r\n\t\t\t\t\t\t<view class=\"bg-img only-img\" :style=\"{backgroundImage:`url(${item.imgList[0]})`}\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class='goTop' @click=\"goTop\">\r\n\t\t\t<image src='https://vkceyugu.cdn.bspapp.com/VKCEYUGU-aliyun-l5j2urmfatyb41ea37/580b4200-2728-11eb-b680-7980c8a877b8.png'\r\n\t\t\t v-if=\"!showTop\"></image>\r\n\t\t</view>\r\n\t\t<l-loadmore :show=\"true\" :type=\"loadmoretype\" loading-text=\"努力加载中~\" />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcountChange:false,//判断commentsCount是否已经改变\r\n\t\t\t\tcommentsCount:0,\r\n\t\t\t\tshowTop: true,\r\n\t\t\t\tTabCur: 0,\r\n\t\t\t\tscrollLeft: 0,\r\n\t\t\t\tinputVal: \"\",\r\n\t\t\t\tpullDownLimit: 3,\r\n\t\t\t\tnavSelected: '按时间',\r\n\t\t\t\tskip: 1,\r\n\t\t\t\tloadmoretype: 'loading',\r\n\t\t\t\tstoreList: '',\r\n\t\t\t\tnavList: [{\r\n\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\ttext: '按时间'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\ttext: '按流量'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\ttext: '按评论数'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\ttext: '按价格 ^'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 点击回到顶部\r\n\t\t\tonPageScroll(e) {\r\n\t\t\t\t// this.scrollTop = e.scrollTop\r\n\t\t\t\tif (e.scrollTop > 500) {\r\n\t\t\t\t\tthis.showTop = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showTop = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoTop() {\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: 0,\r\n\t\t\t\t\tduration: 300\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tIsCard(e) {\r\n\t\t\t\tthis.isCard = e.detail.value\r\n\t\t\t},\r\n\t\t\ttabSelect(e, data) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollLeft = (e.currentTarget.dataset.id - 1) * 60\r\n\t\t\t\tthis.navSelected = data\r\n\t\t\t\tconsole.log(this.inputVal, this.navSelected)\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: \"getUserSearchPublishMessage\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\"skip\": 0,\r\n\t\t\t\t\t\t\"limit\": that.pullDownLimit,\r\n\t\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\t\"searchInput\": that.inputVal,\r\n\t\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"res\", res.result.data)\r\n\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t\tthat.handleTime(res.result.data)\r\n\t\t\t\t\t\t// that.storeList = res.result.data\r\n\t\t\t\t\t\tif (res.result.data.length < 6) {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 对获取到的数据进行时间的处理\r\n\t\t\thandleTime(context) {\r\n\t\t\t\tfunction getTime(shijianchuo) {\r\n\t\t\t\t\tlet time = new Date(shijianchuo)\r\n\t\t\t\t\tconst y = time.getFullYear();\r\n\t\t\t\t\tconst m = time.getMonth() + 1;\r\n\t\t\t\t\tconst d = time.getDate();\r\n\t\t\t\t\tconst h = time.getHours();\r\n\t\t\t\t\tconst mm = time.getMinutes();\r\n\t\t\t\t\tconst s = time.getSeconds();\r\n\t\t\t\t\treturn y + '-' + m + '-' + d + ' ' + h + ':' + m + ':' + s;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < context.length; i++) {\r\n\t\t\t\t\t// console.log(context[i].ctime)\r\n\t\t\t\t\tlet newTime = getTime(context[i].ctime)\r\n\t\t\t\t\tcontext[i].ctime = newTime\r\n\t\t\t\t}\r\n\t\t\t\tthis.storeList = context\r\n\t\t\t},\r\n\t\t\t// 搜索\r\n\t\t\tsearch(e) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\tconsole.log(this.inputVal, this.navSelected)\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: \"getUserSearchPublishMessage\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\"skip\": 0,\r\n\t\t\t\t\t\t\"limit\": that.pullDownLimit,\r\n\t\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\t\"searchInput\": that.inputVal,\r\n\t\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"res\", res.result.data)\r\n\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t\tthat.handleTime(res.result.data)\r\n\t\t\t\t\t\t// that.storeList = res.result.data\r\n\t\t\t\t\t\tif (res.result.data.length < 6) {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 实现上拉加载\r\n\t\t\tonReachBottom() {\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tlet oldData = []\r\n\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\t// console.log(that.navSelected)\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'getUserSearchPublishMessage',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\"skip\": that.skip,\r\n\t\t\t\t\t\t\"limit\": that.pullDownLimit,\r\n\t\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\t\"searchInput\": that.inputVal,\r\n\t\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tconst that = this\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.result.data.length == 0) {\r\n\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t\tconsole.log(\"that.skip\", that.skip)\r\n\t\t\t\t\t\toldData = []\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet oldData = that.storeList\r\n\t\t\t\t\t\tconsole.log(\"olddata\", oldData)\r\n\t\t\t\t\t\tlet newData = res.result.data\r\n\t\t\t\t\t\tconsole.log(\"newData\", newData)\r\n\t\t\t\t\t\tlet commitData = [...oldData, ...newData]\r\n\t\t\t\t\t\tconsole.log(\"commitData\", commitData)\r\n\t\t\t\t\t\t// that.storeList = commitData\r\n\t\t\t\t\t\tthat.handleTime(commitData)\r\n\t\t\t\t\t\tthat.skip += 1\r\n\t\t\t\t\t\tconsole.log(\"that.skip\", that.skip)\r\n\t\t\t\t\t\tif (that.loadmoretype == \"end\") {\r\n\t\t\t\t\t\t\tthat.skip = 1\r\n\t\t\t\t\t\t\tconsole.log(that.skip)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconst that = this\r\n\t\t\tthis.inputVal = options.data\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: \"getUserSearchPublishMessage\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"skip\": 0,\r\n\t\t\t\t\t\"limit\": that.pullDownLimit,\r\n\t\t\t\t\t\"status\": '已上架',\r\n\t\t\t\t\t\"searchInput\": that.inputVal,\r\n\t\t\t\t\t\"navSelected\": that.navSelected,\r\n\t\t\t\t},\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconsole.log(\"res\", res.result.data)\r\n\t\t\t\t\t// that.skip = 1\r\n\t\t\t\t\t// that.storeList = res.result.data\r\n\t\t\t\t\tthat.handleTime(res.result.data)\r\n\t\t\t\t\tif (res.result.data.length < 6) {\r\n\t\t\t\t\t\tthat.loadmoretype = \"end\"\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.loadmoretype = \"loading\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconsole.log(this.storeList)\r\n\t\t\tif(this.countChange){\r\n\t\t\t\tthis.storeList.forEach((el)=>{\r\n\t\t\t\t\tif(el._id==this.storeId){\r\n\t\t\t\t\t\tel.commentsCount = this.commentsCount\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tuni.$on('changeComemntCount',data=>{\r\n\t\t\t\tthis.countChange=true\r\n\t\t\t\tthis.commentsCount = data.Count\r\n\t\t\t\tthis.storeId=data.storeId\r\n\t\t\t})\r\n\t\t\tuni.$on('changeViews',data=>{\r\n\t\t\t\t// console.log(\"views\",data)\r\n\t\t\t\tthis.storeList.forEach((el)=>{\r\n\t\t\t\t\tif(el._id==data.storeId){\r\n\t\t\t\t\t\tel.views = data.views\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('changeComemntCount')\r\n\t\t\tuni.$off('changeViews')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.bg-img {\r\n\t\tbackground-size: cover;\r\n\t}\r\n\t.cu-card>.cu-item {\r\n\t\tmargin: 15rpx 30rpx;\r\n\t}\r\n\t.text-content {\r\n\t\tpadding-left: 30rpx;\r\n\t}\r\n\t.goTop {\r\n\t\theight: 60rpx;\r\n\t\twidth: 60rpx;\r\n\t\tborder-radius: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 150rpx;\r\n\t\tright: 60rpx;\r\n\t\tz-index: 10000;\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608014567525\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}